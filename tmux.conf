set-window-option -g mode-keys vi
set-window-option -g xterm-keys on

# Automatic renumbering of windows.
set-option -g renumber-windows on

# Window reordering with prefix + shift + arrows (intuitive direction)
bind-key -r S-Left swap-window -t -1\; select-window -t -1
bind-key -r S-Right swap-window -t +1\; select-window -t +1

# Window moving without switching (prefix + < >)
bind-key -r '<' swap-window -d -t -1
bind-key -r '>' swap-window -d -t +1

# Quick window movement with hjkl but corrected directions
bind-key -r C-h swap-window -d -t -1  # Ctrl+h = move left
bind-key -r C-l swap-window -d -t +1  # Ctrl+l = move right

# New windows inherit the current pane's directory
bind c new-window -c "#{pane_current_path}"
bind '"' split-window -c "#{pane_current_path}"
bind % split-window -h -c "#{pane_current_path}"

set -g default-terminal "tmux-256color"
set -ag terminal-overrides ",xterm-256color:RGB"

set -g prefix C-a                         # prefix key
set -g aggressive-resize on               # aggressive resize
set -sg escape-time 0                     # escape time
set -g base-index 1                       # set initial window index to 1
set -g mouse off                           # mouse support disabled
set -g bell-action none                   # disable bell

set-option -g focus-events on

set-option -g default-shell /bin/zsh

# Vim like copy & paste.
bind Escape copy-mode
bind p paste-buffer
bind -T copy-mode-vi v send -X begin-selection
bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "pbcopy"
bind -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel "pbcopy"
bind -T copy-mode-vi Enter send-keys -X copy-pipe-and-cancel "pbcopy"

set -g status-left ''
set -g status-right ''

set -g window-status-format "⋅"
set -g window-status-separator ' '
set -g window-status-current-format "•"
set -g status-justify centre
set -g status-left-length 0
set -g status-right-length 0

set -g window-status-style fg=cyan
set -g window-status-current-style fg=green,bg=default
set -g status-style bg=default

# Borders.
set -g pane-active-border-style fg=default,bg=default

# List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'

run '~/.tmux/plugins/tpm/tpm'
